clc
clear
close

Axis_Control = gca;
Axis_Control.Clipping = "off";
set(Axis_Control,'CameraViewAngleMode','Manual');
set(0,'DefaultFigureWindowStyle','docked');

hold on
  
<<<<<<< Updated upstream
UR10e = UR10e();
%g = Gripper;
UR10e.model.base = transl(0,0,1) * trotz(pi);

posDrinks = [-1.35 0.4 1.7;
             -0.7 0.4 1.7;
             -0.25 0.4 1.7;
             0.2 0.4 1.7;
             0.7 0.4 1.7;
             1.35 0.4 1.7;];
         
safeJoints = [1.8352 1.2034 1.9025 6.2679 1.8369 3.1237;
              0.0589 1.6302 1.6794 4.5169 0.0038 4.7397;
              0 0 0 0 0 0;];

%%
pos = transl(0.6, 0.8, 0.5)* trotx(3*pi/2);;
UR10e.moveBasic(pos)

%%
pos2 = transl(posDrinks(5,:)) * trotx(pi/2) * troty(2*pi/2) * trotz(pi);;
%pos2 = transl(0.6, -0.4, 0.3) * trotx(3*pi/2) * troty(pi/2);  
UR10e.moveBasic(pos2);

%%
UR10e.pour(1);

%%
=======
u = UR10e();
g = Gripper();
u.model.base = transl(0,0,0); %* trotz(pi);
u.model.animate(u.currentJoints);
g.move_gripper(u.model.fkine(u.currentJoints));

hold on         

% for i=1:size(posDrinks,1)
%         x = transl(posDrinks(i,:));
%         trplot(x)1
% end

objects = Create_Drinks();

%%
u.moveBasicB((u.interJoints(1,:)),g)
%% glass 
u.moveBasicB(([281 60 250 230 270 0;]*pi/180), g)
%% idle
u.moveBasicB(([270 80 240 220 270 0;]*pi/180), g)
%% drink idle
u.moveBasicB(([90 140 240 160 270 0;]*pi/180), g)
%% vodka
u.moveBasicB(([57 140 240 160 270 0;]*pi/180), g)
u.moveBasicB(([57 82 256 202 272 0;]*pi/180), g)
u.moveBasicB(([57 140 240 160 270 0;]*pi/180), g)
%% rum
u.moveBasicB(([70 140 240 160 270 0;]*pi/180), g)
u.moveBasicB(([70 93 247 200 270 0;]*pi/180), g)
u.moveBasicB(([70 140 240 160 270 0;]*pi/180), g)
%% tonic
u.moveBasicB(([88 140 240 160 270 0;]*pi/180), g)
u.moveBasicB(([88 104 240 196 270 0;]*pi/180), g)
u.moveBasicB(([88 140 240 160 270 0;]*pi/180), g)
%% gin
u.moveBasicB(([138 140 240 160 270 0;]*pi/180), g)
u.moveBasicB(([138 99 245 196 270 0;]*pi/180), g)
u.moveBasicB(([138 140 240 160 270 0;]*pi/180), g)
%% dispenser idle
u.moveBasicB(([180 140 240 160 270 0;]*pi/180), g)
u.moveBasicB(([210 90 240 210 300 0;]*pi/180), g)
%% lime
%% TEST
u.moveBasicB(([138 99 245 196 270 0;]*pi/180), g)
%%
% x = g.grabObject(objects(1,7)) %4 needs trotz(pi/2)
% pos1 = x(:,:,2) * trotz(pi/2) %transl(objects(1,3).Position) * trotx(3*pi/2);
% %pos2 = transl(0.6, -0.4, 0.3) * trotx(3*pi/2) * troty(pi/2);  
% u.moveBasicA(pos1, g);
% %%
% y = g.grabObject(objects(1,4));
% pos2 = y(:,:,1) * trotz(pi/2)%* troty(2*pi);
% u.moveBasicA(pos2, g);
% %%
% pos3 = transl(0, 0.2, 0.5) * trotx(3*pi/2);
% u.moveBasicA(pos3, g);
% %%
% pos4 = transl(objects(1,1).Position) * trotx(3*pi/2);
% u.moveBasicA(pos4, g);
%%
u.pour(1);

%%
drinkHandler("123a");
>>>>>>> Stashed changes
